pre-commit:
  commands:
    biome-check:
      run: npx @biomejs/biome check --write {staged_files}
      stage_fixed: true
    biome-format:
      run: npx @biomejs/biome format --write {staged_files}
      stage_fixed: true

pre-push:
  commands:
    protect-main:
      run: |
        branch=$(git rev-parse --abbrev-ref HEAD)
        if [ "$branch" = "main" ]; then
          echo "‚ùå Direct push to main branch is not allowed"
          exit 1
        fi
    biome-ci:
      run: npx @biomejs/biome ci
